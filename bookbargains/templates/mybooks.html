{% extends "base.html" %}
{% load static %}
{% block body_block %}

<div class="jumbotron text-center pt-3 pb-0 mt-0 mb-0" style="background-color: transparent; border-radius:0px">
  <h3 class="display-5 mt-4" style="color:#8a100b; font-family: 'Oswald', sans-serif; font-size: 2em;">MY PROFILE</h3>
  <h5 class="mb-0" style="color:#8a100b;">Below is the information currently associated with you user, including profile information as well as any books you may have listed.</h5>
</div>

<div class="container mt-5">
  <div class="row">
    <div class="col-3"></div>
    <div class="col-2 text-center justify-content-center " style="align-self:center;">
      <div>
        <h5 style="color: #8a100b; font-family: 'Oswald', sans-serif;">USER PROFILE</h5>
        <p><i style="color: #8a100b;" class="fas fa-user-circle fa-7x"></i></p>
      </div>
    </div>
    <div class="col-4 text-center p-3 rounded" style="background-color: #8a100b; color: #ffffff;">
      <h5>Welcome, {{request.user.get_full_name}}!</h5>
      <p class="my-1">Email: {{request.user.email}}</p>
      <p class="my-1">Phone: ({{myprofile.phone|slice:":3"}})-{{myprofile.phone|slice:"3:6"}}-{{myprofile.phone|slice:"6:10"}}</p>
      <p class="my-1">Major: {{myprofile.major}}</p>
      <p class="my-1">Housing: {{myprofile.housing}}</p>
    </div>
    <div class="col-3"></div>
  </div>
</div>

<center>
<div class="container">  
  {% if mycurrentbooks %}
    <h3 class="display-5 mt-5" style="color:#8a100b; font-family: 'Oswald', sans-serif; font-size: 2em;">MY CURRENT LISTINGS</h3>
  {% endif %}
</div>

<div class="container">
  <div class="row">
    {% for Book in mycurrentbooks %}
    <div class="pt-4 col-4">
        <div class="card bg-light" style="width: 20rem;">
          <img class=“card-img-top w-100" style="height:320px;width:320px;" src="{{Book.image.url}}" alt="img" >
          <div class="card-body p-3">
            <h5 class="card-title mb-0">{{Book.title}}</h5>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item py-2">Field: {{Book.get_field_display}} </li>
            <li class="list-group-item py-2">Author: {{Book.author}} </li>
            <li class="list-group-item py-2">Edition: {{Book.edition}}</li>
            <li class="list-group-item py-2">ISBN: {{Book.ISBN13}} </li>
            <li class="list-group-item py-2">Condition: {{Book.get_condition_display}}</li>
            <li class="list-group-item py-2">Price: ${{Book.price}}</li>
          </ul>
          {% if user.is_authenticated %}
          <div class="card-footer">
            <a href="{% url 'removelisting' bookid=Book.uuid %}" class="btn btn-light">Delete Book</a>
          </div>
          {% endif %}
      </div>
      <div><p></p></div>
    </div>
    {% endfor %}
  </div>
</div>

<div class="container">
  <div class="row">
    {% for Book in myrecommendations %}
    <div class="pt-4 col-4">
        <div class="card bg-light" style="width: 20rem;">
          <img class=“card-img-top w-100" style="height:320px;width:320px;" src="{{Book.image.url}}" alt="img" >
          <div class="card-body p-3">
            <h5 class="card-title mb-0">{{Book.title}}</h5>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item py-2">Field: {{Book.get_field_display}} </li>
            <li class="list-group-item py-2">Author: {{Book.author}} </li>
            <li class="list-group-item py-2">ISBN: {{Book.ISBN13}} </li>
            <li class="list-group-item py-2">Condition: {{Book.get_condition_display}}</li>
            <li class="list-group-item py-2">Price: ${{Book.price}}</li>
          </ul>
          {% if user.is_authenticated %}
          <div class="card-footer">
            <a href="{% url 'removelisting' bookid=Book.uuid %}" class="btn btn-light">Delete Book</a>
          </div>
          {% endif %}
      </div>
      <div><p></p></div>
    </div>
    {% endfor %}
  </div>
</div>
<center>

{% endblock %}
